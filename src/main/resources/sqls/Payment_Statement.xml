<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd" >
<mapper namespace="com.pet.care.model.dao.payment.IPaymentDao">

<insert id="insertPay" parameterType="PaymentDto">
INSERT INTO PAYMENT
	(SEQ, USER_EMAIL, USER_PHONE, PAYNUM,
	 HOSPITAL_NAME, PAIDAMOUNT, PAYDATE, APPLYNUM,
	  CANCELDATE, CANCELFLAG, REFUNDDATE, REFUNDFLAG, RESERVATION_SEQ)
VALUES(PAYMENT_SEQ.NEXTVAL, 'user01@gmail.com', '010-1111-1111', #{paynum}, 
	'CDC', #{paidamount}, SYSDATE, #{applynum},
	 '', 'N', '', 'N', '49')
</insert>

<!-- <select id="payList" parameterType="java.lang.String" resultType="PaymentDto"> -->
<select id="payList" parameterType="java.lang.String" resultType="PaymentDto">
SELECT SEQ, USER_EMAIL, PAYNUM, HOSPITAL_NAME,  APPLYNUM,
                PAYDATE, CANCELFLAG, REFUNDFLAG
        FROM PAYMENT
        WHERE USER_EMAIL = #{user_email}
        ORDER BY SEQ DESC
</select>

<select id="payDetailList" parameterType="java.lang.String" resultType="PaymentDto">
SELECT SEQ, USER_EMAIL, PAYNUM, HOSPITAL_NAME, 
		PAIDAMOUNT, PAYDATE, APPLYNUM, CANCELDATE,
		CANCELFLAG, REFUNDDATE, REFUNDFLAG
FROM PAYMENT
WHERE SEQ = #{seq}
</select>



</mapper>
